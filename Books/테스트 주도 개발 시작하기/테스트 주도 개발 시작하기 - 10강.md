---
tags:
  - í…ŒìŠ¤íŠ¸
ë„ì„œëª…: í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ ì‹œì‘í•˜ê¸°
ì €ìëª…: ìµœë²”ê· 
aliases:
  - Test-Driven Development
---
ë¹ ë¥¸ ì„œë¹„ìŠ¤ ì¶œì‹œë¥¼ ìœ„í•´ì„  CI - CD ë„ì…ì´ í•„ìˆ˜

- CI : Continuous Delivery
- CD : Continuous Deployment

ì§€ì†ì ìœ¼ë¡œ ì½”ë“œ í†µí•©í•˜ê³  ì¶œì‹œ ê°€ëŠ¥ ìƒíƒœë¡œ ë§Œë“¤ê³  ë°°í¬í•˜ë ¤ë©´?

-> ìƒˆë¡œ ì¶”ê°€í•œ ì½”ë“œê°€ ê¸°ì¡´ ê¸°ëŠ¥ ë§ê°€ëœ¨ë¦¬ì§€ ì•ŠëŠ”ì§€ í™•ì¸ í•´ì•¼í•¨
-> CI / CD ì—ì„œ ìë™í™” í…ŒìŠ¤íŠ¸ì— í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì‚¬ìš©ëœë‹¤
( ë²„ê·¸ ë°°í¬ ë°©ì§€ + ì†Œí”„íŠ¸ì›¨ì–´ í’ˆì§ˆ ì €í•˜ ë°©ì§€ )

---

í…ŒìŠ¤íŠ¸ ì½”ë“œë„ ê·¸ ìì²´ë¡œ ì½”ë“œ
-> ì œí’ˆ ì½”ë“œì™€ ë™ì¼í•˜ê²Œ ìœ ì§€ë³´ìˆ˜ì˜ ëŒ€ìƒ!!

í…ŒìŠ¤íŠ¸ ì½”ë“œ ìœ ì§€ë³´ìˆ˜ì— ì‹œê°„ì´ ë§ì´ ë“¤ë©´?
-> í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì†ë³´ì§€ ì•Šì•„ ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ê°€ ì¦ê°€í•˜ê²Œ ëœë‹¤

- ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ê°€ ìƒˆë¡œ ë°œìƒí•´ë„ ë¬´ê°ê°í•´ì§ -> ì‹¤íŒ¨ ì—¬ë¶€ ìƒê´€ì—†ì´ ë¹Œë“œí•˜ê³  ë°°í¬í•˜ê¸° ì‹œì‘
- ë¹Œë“œ í†µê³¼ ì‹œí‚¤ê¸° ìœ„í•´ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸ ì£¼ì„ ì²˜ë¦¬ + ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸ë¥¼ ê³ ì¹˜ì§€ ì•ŠìŒ

ê¹¨ì§„ í…ŒìŠ¤íŠ¸ë¥¼ ë°©ì¹˜í•˜ê¸° ì‹œì‘í•˜ë©´ íšŒê·€ í…ŒìŠ¤íŠ¸ê°€ ê²€ì¦í•˜ëŠ” ë²”ìœ„ ì—­ì‹œ ì¤„ì–´ë“¬
( íšŒê·€ í…ŒìŠ¤íŠ¸ : ì½”ë“œë¥¼ ë³€ê²½í•  ë•Œ ê¸°ì¡´ ê¸°ëŠ¥ ì˜¬ë°”ë¥´ê²Œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸ )

=> ì†Œí”„íŠ¸ì›¨ì–´ í’ˆì§ˆì´ ë‚®ì•„ì§ˆ ê°€ëŠ¥ì„±ì´ ì»¤ì ¸ê°„ë‹¤!

---

ì•…ìˆœí™˜ì´ ë°œìƒí•˜ì§€ ì•Šìœ¼ë ¤ë©´ í…ŒìŠ¤íŠ¸ ì½”ë“œ ìì²´ ìœ ì§€ë³´ìˆ˜ì„±ì´ ì¢‹ì•„ì•¼ í•¨
-> ì§€ì†ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì‘ì„±í•˜ê²Œ ë˜ê³  , í’ˆì§ˆì´ ë–¨ì–´ì§€ëŠ” ê²ƒë„ ë§‰ì„ ìˆ˜ ìˆìŒ

>ê¹¨ì§„ ìœ ë¦¬ì°½ ì´ë¡ 
>
>ê¹¨ì§„ ìœ ë¦¬ì°½ í•˜ë‚˜ë¥¼ ë°©ì¹˜í•˜ë©´
>ê·¸ ì§€ì ì„ ì¤‘ì‹¬ìœ¼ë¡œ ë²”ì£„ê°€ í™•ì‚°ë˜ê¸° ì‹œì‘í•œë‹¤ëŠ” ì´ë¡ 
>=> í…ŒìŠ¤íŠ¸ ì½”ë“œ ì—­ì‹œ ë™ì¼! ( ì‹¤íŒ¨ë¥¼ ë°©ì¹˜í•  ìˆ˜ë¡ , ë‚˜ì¤‘ì—ëŠ” ê³ ì¹  ìˆ˜ ì—†ëŠ” ì§€ê²½ì— ë„ë‹¬í•¨ )
#### ë³€ìˆ˜ , í•„ë“œ ì‚¬ìš©í•´ì„œ ê¸°ëŒ“ê°’ í‘œí˜„í•˜ì§€ ì•Šê¸°

```java
LocalDate date = LocalDate.of(1945,8,15);
String dateStr = formatDate(date);
assertEquals(
	date.getYear() + "ë…„ " + date.getMonthValue() + "ì›” " + date.getDayOfMonth() + "ì¼" , dateStr);
```

ë…¼ë¦¬ì ìœ¼ë¡œ ë§ìœ¼ë‚˜ , ë¬¸ìì—´ ì—°ê²° ìˆì–´ ì½”ë“œ ë³µì¡ + ê¸°ëŒ€í•˜ëŠ” ê°’ì„ ì•Œì•„ì°¨ë¦¬ê¸° í˜ë“¬

```java
assertEquals("1945ë…„ 8ì›” 15ì¼",dateStr);
```

ë³µì¡í•˜ì§€ ì•Šê³  ê¸°ëŒ€í•˜ëŠ” ê°’ ì—­ì‹œ ëª…í™•í•˜ê²Œ í‘œí˜„!
í…ŒìŠ¤íŠ¸ê°€ ê¹¨ì§€ë”ë¼ë„ , formatDate ë©”ì†Œë“œë§Œ í™•ì¸í•˜ë©´ OK

```java
private List<Integer> answers = List.of(1,2,3,4);
assertAll(
	() -> assertEquals(answers.get(0),savedAnswer.getAnswers().get(0))
)
```

Fail ì´ ëœ¨ë©´
```
org.opentest4j.AssertionFailedError:
Expected:3
Actual:4
```

í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ , ì´ë ‡ê²Œ ë³€ìˆ˜ ê°’ ë¼ë¦¬ ë¹„êµ
-> answer í•„ë“œë¥¼ í™•ì¸í•´ì•¼ë§Œ ë¹„êµ ê°€ëŠ¥
( ë°”ë¡œ ìœ„ì— ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ë©´ ê´œì°®ì§€ ì•Šë‚˜? )

```java
assertAll(
	() -> assertEquals(1,savedAnswer.getAnswers().get(0))
)
```

ìƒìˆ˜ë¥¼ ì§ì ‘ ë„£ì–´ , ê°€ë…ì„±ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤
#### ë‘ ê°œ ì´ìƒ ê²€ì¦í•˜ì§€ ì•Šê¸°

í•œ í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì— ê°€ëŠ¥í•œ ë§ì€ ë‹¨ì–¸ì„ í•˜ë ¤ê³  ì‹œë„

```java
User savedUser = fakeRepository.findById("id");
assertEquals("id",savedUser.getId());
...

ArgumentCaptor<String> captor = ArgumentCaptor.forClass(String.class);
BDDMockito.then(mockEmailNotifier).should().sendRegisterEmail(captor.capture());

String realEmail = captor.getValue();
assertEquals("email@email.com",realEmail);
```
í•´ë‹¹ í…ŒìŠ¤íŠ¸ëŠ” ë‘ê°€ì§€ ê²€ì¦
1. íšŒì› ë°ì´í„° ì˜¬ë°”ë¥´ê²Œ ì €ì¥ë˜ì—ˆëŠ”ì§€ ê²€ì¦
2. ì´ë©”ì¼ ë°œì†¡ ìš”ì²­í–ˆëŠ”ì§€ ê²€ì¦

ì²« ë²ˆì§¸ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•˜ë©´?
-> ê±°ê¸°ì„œ ë©ˆì¶¤

ì„œë¡œ ë‹¤ë¥¸ ë‚´ìš©ì´ë¼ë©´ ë³„ë„ ë¶„ë¦¬í•´ í…ŒìŠ¤íŠ¸ì˜ ì§‘ì¤‘ë„ë¥¼ ë†’ì´ì
( ë°˜ë“œì‹œ í•œê°€ì§€ë¼ëŠ”ê²Œ ì•„ë‹ˆë¼ , ê²€ì¦ ëŒ€ìƒì´ ëª…í™•í•˜ê²Œ êµ¬ë¶„ë˜ê²Œ í•˜ì! )
#### ì •í™•í•˜ê²Œ ì¼ì¹˜í•˜ëŠ” ê°’ìœ¼ë¡œ ëª¨ì˜ ê°ì²´ ì„¤ì •í•˜ì§€ ì•Šê¸°

```java
BDDMocktio
	.given(mockPasswordChecker.checkPasswordWeak("pw"))
	.willReturn(true);

assertThrows(WeakPasswordException.class, () -> {
	userRegister.register("id","pw","email");
})
```

í•´ë‹¹ í…ŒìŠ¤íŠ¸ëŠ” ì‘ì€ ë³€í™”ì—ë„ ë¯¼ê°í•˜ê²Œ ë°˜ì‘
pw -> pwa ê°€ ëœë‹¤ë©´?
( ê·¼ë° , pwë¡œ í•´ë„ ë˜ì§€ ì•Šì„ê¹Œ ì‹¶ê¸´ í•¨ )

```java
BDDMocktio
	.given(mockPasswordChecker.checkPasswordWeak(Mockito.anyString())
	.willReturn(true);
```

ì„ì˜ String ê°’ì— true return
-> í•´ë‹¹ ë¶€ë¶„ì— ê¶ê¸ˆí•œ ì ì€ ì–´ë ¤ìš´ Stringì´ ë“¤ì–´ì˜¬ë•ŒëŠ” return false ë¥¼ í•´ì•¼í•˜ëŠ”ë° ì–´ë–»ê²Œ í•´ì•¼ í•˜ëŠ”ê°€?
( ê·¸ëƒ¥ Mockingì„ í•˜ê¸°ë¡œ ê°€ì •í•œ ì´ìƒ , í•´ë‹¹ í…ŒìŠ¤íŠ¸ì— ë§ëŠ” ìƒí™©ë§Œ ê°€ì •í•˜ëŠ” ê²ƒ ê°™ìŒ )

#### ê³¼ë„í•˜ê²Œ êµ¬í˜„ ê²€ì¦í•˜ì§€ ì•Šê¸°

```java
// ë©”ì†Œë“œ í˜¸ì¶œ ì—¬ë¶€ ê²€ì‚¬
BDDMockito
	.then(mockPasswordChecker)
	.should()
	.checkPasswordWeak(Mockito.anyString());

// ë©”ì†Œë“œ í˜¸ì¶œ í•˜ì§€ ì•ŠëŠ” ê²ƒ ê²€ì‚¬
BDDMockito
	.then(mcokRepository)
	.should(Mockito.never())
	.findById(Mockito.anyString());
```

í•´ë‹¹ ì½”ë“œë“¤ì€ ë©”ì†Œë“œì˜ í˜¸ì¶œ ì—¬ë¶€ë¥¼ ê²€ì¦

ë‚´ë¶€ ê²€ì¦ì´ ë‚˜ìœ ê²ƒì€ ì•„ë‹˜!
( í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë³´ê³  , ì•„ ë‚´ë¶€ì—ì„œ ì´ë ‡ê²Œ ì‘ë™í•˜ëŠ” êµ¬ë‚˜ ì¸ì§€ ê°€ëŠ¥ )

í•˜ì§€ë§Œ,  ì¡°ê¸ˆë§Œ ë³€ê²½í•´ë„ í…ŒìŠ¤íŠ¸ê°€ ê¹¨ì§ˆ ê°€ëŠ¥ì„±ì´ ë§¤ìš° ì»¤ì§„ë‹¤ëŠ” ê²ƒ
=> ë‚´ë¶€ êµ¬í˜„ì´ ì•„ë‹Œ ì‹¤í–‰ ê²°ê³¼ë¥¼ ê²€ì¦í•´ë‚˜ê°€ì

##### Note ğŸ““

ê¸°ëŠ¥ì´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ë‹¨ì´ êµ¬í˜„ ê²€ì¦ë°–ì— ì—†ë‹¤ë©´
ëª¨ì˜ ê°ì²´ ì‚¬ìš©í•´ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±í•´ì•¼ í•˜ì§€ë§Œ , í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± ë’¤ì—
ì ì§„ì ìœ¼ë¡œ ì½”ë“œ ë¦¬íŒ©í† ë§í•´ êµ¬í˜„ ì´ ì•„ë‹Œ ê²°ê³¼ë¥¼ ê²€ì¦í•  ìˆ˜ ìˆë„ë¡ ì‹œë„í•´ì•¼ í•œë‹¤!
( êµ¬í˜„ ë³€ê²½ìœ¼ë¡œ ì¸í•œ í…ŒìŠ¤íŠ¸ ë°©ì§€ + ì½”ë“œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„± ë†’ì¼ ìˆ˜ ìˆìŒ! )
#### setUp (BeforeEach) ì´ìš©í•´ ì¤‘ë³µ ìƒí™© ì„¤ì •í•˜ì§€ ì•Šê¸°

```java
@BeforeEach
void setUp() {
	changeService = new ChangeUserService(memoryRepository);
	memoryRepository.save(
		new User("id","name","pw",new Address("ì„œìš¸","ë¶ë¶€"));	
	)
}
```

ì¤‘ë³µ ìƒí™©ì„ ë§Œë“¤ê¸° ìœ„í•´
User ë°ì´í„°ê°€ ì¡´ì¬í•˜ëŠ” ìƒí™©ì„ ë§Œë“¬

=> ì´ê²Œ ì¢‹ì•„ì¡ŒëŠ”ê°€?

ì¤‘ë³µ ì œê±° , ì½”ë“œ ê¸¸ì´ê°€ ì§§ì•„ì§€ê¸´ í•¨
-> í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ìƒí™©ì´ ë‹¬ë¼ì§

- ë‚˜ì¤‘ì— ë©”ì†Œë“œê°€ ì‹¤íŒ¨í•´ ë‹¤ì‹œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë´ì•¼ í•œë‹¤ë©´?

ì‹¤íŒ¨í•œ ì´ìœ ë¥¼ ì•Œë ¤ë©´ ì–´ë–¤ ìƒí™©ì¸ì§€ í™•ì¸ í•´ì•¼í•¨
( ì˜¤ëœë§Œì— ë³´ë©´ , ê¸°ì–µì´ ì˜ ì•ˆë‚˜ì„œ setUp ë©”ì†Œë“œë¥¼ í™•ì¸í•˜ë©° ìœ„ì•„ë˜ ì´ë™í•´ì•¼ í•¨ )

- í…ŒìŠ¤íŠ¸ê°€ ê¹¨ì§€ê¸° ì‰¬ìš´ êµ¬ì¡°ê°€ ëœë‹¤

ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ ê¹¨ì§€ê¸° ì‰¬ìš´ êµ¬ì¡°
( ë™ì¼ ìƒí™© ì½”ë“œë¥¼ ê³µìœ í•˜ë¯€ë¡œ , ì¡°ê¸ˆë§Œ ë‚´ìš© ë³€ê²½ë˜ë„ í…ŒìŠ¤íŠ¸ê°€ ê¹¨ì§ˆ ìˆ˜ ìˆìŒ )

```java
@Test
void changeAddress() {
	memoryRepository.save(
		new User("id","name","pw",new Address("ì„œìš¸","ë¶ë¶€"));	
	)
	changeService.changeAddress("id",new Address("ê²½ê¸°","ë‚¨ë¶€"));

	User user = memoryRepository.findById("id");
	assertEquals("ê²½ê¸°",user.getAddress().getCity());
}
```

ì½”ë“œê°€ ëŠ˜ì–´ë‚˜ë”ë¼ë„ , ë©”ì†Œë“œ ìì²´ê°€ ìŠ¤ìŠ¤ë¡œë¥¼ ë” ì˜ ì„¤ëª…í•œë‹¤
#### í†µí•© í…ŒìŠ¤íŠ¸ì—ì„œ ë°ì´í„° ê³µìœ  ì£¼ì˜

setUp ê³¼ ìœ ì‚¬í•˜ê²Œ í†µí•© í…ŒìŠ¤íŠ¸ì˜ DB ë°ì´í„° ì´ˆê¸°í™” ì¡´ì¬

DBì—°ë™ í¬í•¨í•œ í†µí•© í…ŒìŠ¤íŠ¸ í•˜ë ¤ë©´ , DB ë°ì´í„°ë¥¼ ì•Œë§ê²Œ êµ¬ì„±í•´ì•¼ í•¨
-> í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë§ˆë‹¤ DBë°ì´í„°ë¥¼ ì´ˆê¸°í™” í•˜ëŠ” ì¿¼ë¦¬ ì‹¤í–‰í•´ì•¼ í•¨

```java
@SpringBootTest
@Sql("classpath:init-data.sql")
public class UserRegisterIntTestUsingSql {
}
```

ì§€ì •í•œ sql íŒŒì¼ì„ í†µí•´ í…ŒìŠ¤íŠ¸ì— í•„ìš”í•œ ë°ì´í„° ì´ˆê¸°í™” ê°€ëŠ¥
-> ì—¬ëŸ¬ í…ŒìŠ¤íŠ¸ê°€ ë™ì¼ ë°ì´í„°ë¥¼ ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ì–´ì¤€ë‹¤
-> í†µí•© í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œëŠ” ë°ì´í„° ì´ˆê¸°í™”ë¥¼ ìœ„í•œ ì½”ë“œ ì‘ì„±í•˜ì§€ ì•Šì•„ë„ OK

ë°©ì‹ì€ í¸ë¦¬í•˜ë‚˜ , setUp ì²˜ëŸ¼ ì´ˆê¸°í™”ë¥¼ ìœ„í•œ ì¿¼ë¦¬ íŒŒì¼ì´ ì¡°ê¸ˆë§Œ ë³€ê²½ë˜ë„ ë§ì€ í…ŒìŠ¤íŠ¸ê°€ ê¹¨ì§ˆ ìˆ˜ ìˆê³ 
í…ŒìŠ¤íŠ¸ê°€ ê¹¨ì§€ë©´ ê´€ë ¨ ì¿¼ë¦¬ íŒŒì¼ê¹Œì§€ ê°™ì´ ë´ì•¼ í•¨

=> í…ŒìŠ¤íŠ¸ ì½”ë“œ ìœ ì§€ë³´ìˆ˜ë¥¼ ê·€ì°®ê²Œ í•˜ê³  ì–´ë µê²Œ ë§Œë“¬

ë‘ ê°€ì§€ ì´ˆê¸°í™” ë°ì´í„°ë¡œ ë‚˜ëˆ ì„œ ìƒê°í•˜ì

- ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ ê°™ì€ ê°’ ì‚¬ìš©í•˜ëŠ” ë°ì´í„° - ì½”ë“œê°’ ë°ì´í„°
- í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì—ì„œë§Œ í•„ìš”í•œ ë°ì´í„° - ì¤‘ë³µ ID ê²€ì‚¬ ìœ„í•œ íšŒì› ë°ì´í„°

ì½”ë“œê°’ ë°ì´í„°ëŠ” ì‚¬ì‹¤ ê±°ì˜ ë°”ë€Œì§€ ì•ŠëŠ”ë‹¤ ( ë¯¸ë¦¬ ì´ˆê¸° ì„¸íŒ… ë°ì´í„° )
-> ë™ì¼ ì½”ë“œê°’ ë°ì´í„° ì‚¬ìš©í•´ë„ ë¬¸ì œ ì—†ìœ¼ë©° , ë‹¤ë¥¸ ì½”ë“œê°’ ë°ì´í„° ì‚¬ìš©ì‹œ ì˜¤íˆë ¤ ë¬¸ì œ ë°œìƒí•  ìˆ˜ë„ ìˆìŒ
-> ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ ë‹¤ë¥¸ ê°’ ì‚¬ìš©í•˜ë©´ ì•ˆ ë˜ëŠ” ë°ì´í„°ëŠ” ë™ì¼ ë°ì´í„° ê³µìœ í•´ë„ OK

íŠ¹ì • í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì—ì„œë§Œ ì˜ë¯¸ ìˆëŠ” ë°ì´í„°ëŠ” ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ ê³µìœ í•  í•„ìš” X
-> íŠ¹ì • í…ŒìŠ¤íŠ¸ì—ì„œë§Œ ìƒì„±í•´ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ í•˜ë‚˜ë§Œ ë˜ë„ë¡ í•˜ì
#### ì‹¤í–‰ í™˜ê²½ì´ ë‹¤ë¥´ë‹¤ê³  ì‹¤íŒ¨í•˜ì§€ ì•Šê¸°

Window ì—ì„œëŠ” ì„±ê³µí•˜ë‚˜ , Linux ì—ì„œëŠ” ì‹¤íŒ¨í•œë‹¤ë©´?
-> ì´ê²Œ ë­ì•¼ ë„ëŒ€ì²´

```java
@Test
@EnableOnOs({ OS.LINUX, OS.MAC })
void callBash(){

}
@Test
@DisabledOnOS(OS.WINDOWS)
```

ë§Œì•½ íŠ¹ì • OS ì—ì„œ ê²€ì‚¬ë¥¼ í•´ì•¼ í•œë‹¤ë©´ ì‚¬ìš©í•˜ì

#### ì‹¤í–‰ ì‹œì ì´ ë‹¤ë¥´ê³  ì‹¤íŒ¨í•˜ì§€ ì•Šê¸°

```java
public boolean isExpired() {
	return expiryDate.isBefore(LocalDateTime.now());
}

@Test
void notExpired() {
	LocalDateTime expiry = LocalDateTime.now(2019,12,31,0,0,0);
	Member m = Member.builder().expiryDate(expiry).build();
	assertFalse(m.isExpired());
}
```

ì½”ë“œê°€ ì‘ì„±í•œ ì‹œì ì´ 2019ë…„ 12ì›” 31ì¼ ì „ì´ë¼ë©´? -> í…ŒìŠ¤íŠ¸ Pass!
ì½”ë“œ ì‘ì„±í•˜ê³  ì‹œê°„ì´ ì§€ë‚˜ , 2020ë…„ì´ ì˜¨ë‹¤ë©´? -> í…ŒìŠ¤íŠ¸ Fail!

( 2099 ë…„ìœ¼ë¡œ ë°”ê¾¸ë©´ ì˜¤ì¼€ì´ì¸ê°€? -> ê²°êµ­ ì œì–´í•  ìˆ˜ ì—†ëŠ” ìƒí™©ì´ ì˜¨ë‹¤ - ëª…ì‹œì  ì œì–´ ë°©ë²•ì„ ì„ íƒí•˜ì )

```java
public boolean isExpired() {
	return expiryDate.isBefore(LocalDateTime.now());
}

@Test
void notExpired() {
	LocalDateTime expiry = LocalDateTime.now(2019,12,31,0,0,0);
	Member m = Member.builder().expiryDate(expiry).build();
	assertFalse(m.isExpired(LocalDateTime.of(2019,12,30,0,0,0)));
```

ì‹¤í–‰ ì‹œì ì— ìƒê´€ì—†ì´ í•­ìƒ í†µê³¼!
-> ì‹¤íŒ¨í•˜ëŠ” ê²½ê³„ ì¡°ê±´ ì—­ì‹œë„ ì‰½ê²Œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥!

#### ëœë¤í•˜ê²Œ ì‹¤íŒ¨í•˜ì§€ ì•Šê¸°
```java
public Game() {
	Random random = new Random();
	int firstNo = random.nextInt(10);
	...
	this.nums = new int[] { firstNo,secondNo,thirdNo };
}
```

ì •ë‹µì´ ëœë¤í•˜ê²Œ ë‚´ë¶€ì—ì„œ ë§Œë“¤ì–´ì ¸ì„œ ì•Œ ìˆ˜ë„ & ì˜ë„í•  ìˆ˜ë„ ì—†ìŒ

```java
public Game(int[] nums) {
	this.nums = nums;
}
```

ì™¸ë¶€ì—ì„œ ê°’ì„ ì£¼ì…í•˜ê²Œ í•˜ì

```java
public class GameNumGenerator implements NumGenerator{
	public int[] generate() {
		...ëœë¤í•˜ê²Œ ê°’ ìƒì„±
	}
}
```

```java
GameNumGen gen = mock(GameNumGen.class);
or
public class FixedNumGenerator implements NumGenerator{
}
```

ì›í•˜ëŠ” ê°’ì„ ìƒì„± ê°€ëŠ¥!

#### í•„ìš”í•˜ì§€ ì•Šì€ ê°’ ì„¤ì •í•˜ì§€ ì•Šê¸°

```java
void dupIdExists_Then_Exception(){
	memoryRepository.save(
		User.builder().id("dupid").name("ì´ë¦„").email("abc@abc.com").password("abcd").build();
		
		RegisterReq req = RegisterReq.builder().id("dupid").name("ë‹¤ë¥¸ì´ë¦„").email("dupid@abc.com").build();
	
		assertThrows(DupIdException.class, () -> userRegisterSvc.register(req));
	)
}
```

ì´ë©”ì¼ , ì´ë¦„ , ë¹„ë°€ë²ˆí˜¸ë“± Id ê²€ì¦ì— í•„ìš”ì—†ëŠ” ìš”ì†Œê¹Œì§€ ì „ë¶€ ì„¤ì • 
-> ì´ëŠ” ê²°êµ­ ë§¤ìš° ë¹„íš¨ìœ¨ì 

```java
memoryRepository.save(User.builder()).id("dupId").build();

RegisterReq req = RegisterReq.builder().id("dupid").build();
```

í•„ìš”í•œ ê°’ë§Œ ì„¤ì •í•˜ì

#### ì¡°ê±´ë¶€ë¡œ ê²€ì¦í•˜ì§€ ì•Šê¸°

```java
Transloator tr = new Translator();
if(tr.contains("cat")) {
	assertEquals("ê³ ì–‘ì´",tr.translate("cat"));
}
```

cat ì„ í¬í•¨í•˜ê³  ìˆì„ì‹œì—ëŠ” í…ŒìŠ¤íŠ¸ ì§„í–‰!
catì„ í¬í•¨í•˜ì§€ ì•Šìœ¼ë©´?
-> í…ŒìŠ¤íŠ¸í†µê³¼! ( í…ŒìŠ¤íŠ¸ í•˜ëŠ”ê²Œ ì—†ìœ¼ë‹ˆê¹Œ )
=> ì¡°ê±´ë¶€ ê²€ì¦ì€ ë§¤ìš° ì¡°ì‹¬í•´ì•¼ í•œë‹¤

#### í†µí•© í…ŒìŠ¤íŠ¸ëŠ” í•„ìš”í•˜ì§€ ì•Šì€ ë²”ìœ„ê¹Œì§€ ì—°ë™í•˜ì§€ ì•Šê¸°
```java
@SpringBootTest
public class MemberDaoIntTest {
	@Autowired
	MemberDao dao;

	@Test
	void findAll() {
		List<Member> members = dao.selectAll();
		assertTrue(members.size() > 0);
	}
}
```

SpringBootTest ì–´ë…¸í…Œì´ì…˜ì„ ì„ ì–¸í•˜ë©´ , ì„œë¹„ìŠ¤ ì»¨íŠ¸ë¡¤ëŸ¬ ë“± ëª¨ë“  ìŠ¤í”„ë§ ë¹ˆ ì´ˆê¸°í™”

-> ìš°ë¦¬ì—ê²Œ í•„ìš”í•œê±´ , JdbcTemplate!
=> @JdbcTest ì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ DB ì—°ë™ ê´€ë ¨ ì„¤ì •ë§Œ ì´ˆê¸°í™”

#### ë” ì´ìƒ ì“¸ëª¨ ì—†ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œ

ë‹¨ìˆœ Class ì‚¬ìš© í¬ë§·íŒ… ë°©ë²•ì„ ìœ„í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¼ë©´?
-> ì‚¬ìš©ë²•ì„ ìµíˆê³  ë‚˜ë©´ ë” ì´ìƒ í•„ìš” X

í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ë¥¼ ìœ„í•œ ë‹¨ìˆœ í…ŒìŠ¤íŠ¸ ì½”ë“œë„ ì‘ì„±í•˜ì§€ ë§ì
-> ë†’ì´ë ¤ê³  í•œë‹¤ë©´ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ë‹¤ë£¨ì§€ ì•ŠëŠ” if-else ë‚˜ í•˜ìœ„ íƒ€ì…ì„ ì°¾ì•„ í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•´ì•¼ ì˜ë¯¸ ìˆìŒ!


