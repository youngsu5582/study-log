---
tags:
  - 리팩토링
도서명: 객체지향의 사실과 오해
저자명: 조영호
---
인간의 인지능력을 극복하기 위해 필요한 정보만 객체지향 세계에 들고 와야 한다!
=> 현실에서 출발하나 , 불필요한 부분을 도려내 본질이 드러나게

- 사물들 간 공통점 취하고 , 차이점 제거
- 중요한 부분 강조 위해 불필요한 세부 사항 제거

> 개념은 객체에 적용됐을 때 객체를 개념의 인스턴스 <-> 객체는 특정한 개념 적용할 수 있는 구체적 사물

- 심볼 : 개념을 가르키는 간단한 이름이나 명칭 - 트럼프
- 내연 : 개념의 완전한 정의(의미) - 두 손 , 두 발이 네모난 몸 모서리 달려있다 ...
- 외연 : 개념에 속하는 모든 객체 집합 - 병사 , 신하 , 공주 ...

> 분류는 특정 객체를 특정 개념 객체 집합 포함 시킬지 결정하는 작업 ( 추상화를 위한 도구 )

> 타입은 개념과 동일하나 , 개념을 대체하고 좀 더 세련된 수학적 용어

-> 데이터를 단순 0과1이 아닌 목적에 따라 구분하기 위해 탄생

##### 행동이 우선이다

객체가 어떤 행동을 하느냐에 따라 객체 타입 결정
객체 타입은 객체 내부 표현과 아무런 상관 없음

=> 내부 표현 방식이 다르더라도 동일 행동시 동일 타입! ( 데이터를 고려 X )

---

타입 과 타입 사이에는 일반화 ( 특수타입 ) / 특수화 ( 서브타입 ) 관계가 존재한다
-> 무조건 동시에 일어남

- 더 특수하다는 것은 일반적 개념보다 더 범위가 좁아짐 ( 트럼프 > 트럼프 인간 )

분류 와 일반화 / 특수화 기법이 동시 적용 된다
##### 왜 타입을 사용하는가?

타입을 통해 시간에 따라 동적 변하는 앨리스의 상태를 시간과 무관하게 정적 모습으로 생각하게 해줌

타입 역시 추상화! ( 시간 이라는 상태 변화 요소 제거하고 정적인 관점으로 묘사하게 해줌 )

---

> 책임은 어떤 객체가 어떤 요청에 대해 대답해주거나 행동할 의무가 있는 것

⭐️⭐️ 책임을 어떻게 구현할 지는 객체 & 책임을 잡은 후 고려해도 늦지 않는다!

책임은 결국 객체의 의해 정의됨 + 응집도 있는 행위 집합
-> 무엇을 알고 있는가 & 무엇을 할 수 있는가 로 구성
##### 아는 것
1. 개인적인 정보에 관해 아는 것
2. 관련된 객체에 관해 아는 것
3. 자신이 유도하거나 계산할 수 있는 것에 관해 아는 것
##### 하는 것
1. 객체 생성하거나 계산을 하는 등 스스로 하는 것
2. 다른 객체 활동 시작시키는 것
3. 다른 객체 활동 제어 & 조절하는 것

책임은 객체 외부에 제공해 줄 수 있는 정보 ( 아는 것의 측면 ) & 서비스 ( 하는 것의 측면 )

=> 객체의 공통 인터페이스! ( 캡슐화로 이어짐 )

주어진 책임을 수행하도록 요청 보내는 것 -> 메시지 전송

- 메시지 전송함으로써 협력 요청하는 객체 : 송신자
- 메시지 수신함으로써 요청 처리하는 객체 : 수신자

책임은 협력이라는 문맥 속 수신 한 객체 관점에서 무엇을 할 수 있는지 나열
메시지는 협력에 참여하는 두 객체 사이 관계를 강조

- 책임이 여러 개의 메시지로 분할되는 것이 일반적!

⭐️ 메시지 송 & 수신 할 수 있는 것을 결정하는게 구현보다 더 중요하다!
##### 왜 역활이 중요한가?

역활은 협력 내 다른 객체로 대체할 수 있음을 나타내는 표식
-> 역활을 대체할 수 있는 객체는 동일 메시지를 이해할 수 있는 객체

=> 역활을 통해 객체지향의 유연성 , 단순성 , 재사용성을 뒷받침 할 수 있다

- 역활은 결국 협력을 추상화 시켜준다
-> 다른 객체로 대체 가능을 의미
역활의 대체 가능성 = 행위 호환성 ( 동일한 책임의 수행을 의미 )

객체의 모양은 협력에 의해서 결정된다
떠올린 모습 그대로 개발이 아닌 , 객체가 해야하는 협력을 우선적 고려해야 한다
##### 책임 주도 설계

협력에 필요한 책임들 식별 , 적합한 객체에 책임 할당하는 방식으로 설계

기능 구현을 위한 협력 관계를 고안하고
협력 필요한 역활 과 책임 식별 후 적절한 객체를 식별해나가는 과정

1. 시스템 기능을 더 작은 규모의 책임으로 분할
2. 각 책임은 책임 수행할 적절 객체에 할당
3. 책임 수행 도중 스스로 처리할 수 없는 정보 & 기능 필요한 경우 직접 객체 찾아 필요한 작업 요청 ( 위임받은 객체의 책임으로 변환 )
=> 작업 요청 행위를 통해 객체들 간 협력 관계 만들어짐
##### 디자인 패턴

책임-주도 설계의 결과 - 모범이 되는 설계
- 특정 상황에서 설계 돕기 위한 보일러 플레이트
( 반복적 발생 문제 - 문제에 대한 해법 )
=> 디자인 패턴을 알고 있을 시 책임-주도 설계 절차를 따르지 않아도 역활 & 책임 빠르게 포착 가능
##### 테스트-주도 개발

애자일 방법론 종류인 XP 의 프랙티스

TDD는 객체가 이미 존재한다고 가정하고 객체에 어떤 메시지를 전송할지 먼저 생각해보라고 충고
( 역활 , 책임 , 협력 관점에서 객체를 바라보지 않을 시 무의미하다 )

=> 다양한 설계 경험 과 패턴에 대한 지식이 없는 사람들일 시 온전한 혜택을 누리기 어렵다!

객체 메소드 호출 , 반환값 검증하는 것은 수행해야 하는 책임에 관해 생각 해야 하는 것
